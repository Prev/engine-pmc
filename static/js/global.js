// [lie.js]
(function(d,w){function NodeList(length){if(length){for(var i=0;i<length;i++)this[i]=0;this.length=parseInt(length)}else this.length=0}NodeList.prototype={item:function(index){return this[index]},__push:function(node){var __index=this.length;this[__index]=node;this.length++},toString:function(){return"[object NodeList]"}};if(!d.getElementById){if(d.querySelector){d.getElementById=function(id){return d.querySelectorAll("#"+id)}}else if(d.getElementsByTagName){d.getElementById=function(id){var t=d.getElementsByTagName("*");for(var i=0;i<t.length;i++){if(t[i].id==id)return t[i]}}}else if(d.all){d.getElementById=function(id){return d.all[id]}}else if(d.layers){d.getElementById=function(id){return d.layers[id]}}}if(!d.getElementsByClassName){if(d.querySelector){d.getElementsByClassName=function(className){return d.querySelectorAll("."+className)}}else if(d.getElementsByTagName){d.getElementsByClassName=function(className){var t=d.getElementsByTagName("*");var n=new NodeList();for(var i=0;i<t.length;i++){if(t[i].className==className)n.__push(t[i])}return n}}}if(!d.querySelector){if(d.getElementById&&d.getElementsByClassName&&d.getElementsByTagName){d.querySelector=function(selector){var s=selector.substr(1,selector.length-2);switch(selector.substr(0,1)){case"#":return d.getElementById(s);break;case".":return d.getElementsByClassName(s).item(0);break;default:return d.getElementsByTagName(selector).item(0);break}}}}if(!d.querySelectorAll){if(d.getElementById&&d.getElementsByClassName&&d.getElementsByTagName){d.querySelectorAll=function(selector){var s=selector.substr(1,selector.length-2);switch(selector.substr(0,1)){case"#":var n=new NodeList();n.__push(d.getElementById(s));return n;break;case".":return d.getElementsByClassName(s);break;default:return d.getElementsByTagName(selector);break}}}}function addListenerFuncs(t){if(!t.addEventListener){if(t.attachEvent)t.addEventListener=function(type,listener,useCapture){this.attachEvent("on"+type,listener)};else t.addEventListener=function(type,listener,useCapture){this["on"+type]=listener}}if(!t.removeEventListener){if(t.detachEvent)t.removeEventListener=function(type,listener){this.detachEvent("on"+type,listener)};else t.removeEventListener=function(type,listener){if(listener==this["on"+type])this["on"+type]=null}}}addListenerFuncs(d);if(!w.addEventListener){addListenerFuncs(w);d.addEventListener("readystatechange",function(){if(d.readyState=="complete"||d.readyState=="loaded"){for(var k in d.all){var m=d.all[k];addListenerFuncs(m)}for(var i=0;i<d.forms.length;i++){var m=d.forms[i];addListenerFuncs(m)}}},true)}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement,fromIndex){if(!fromIndex)fromIndex=0;for(var i=fromIndex;i<this.length;i++){if(this[i]===searchElement)return i}return-1}}})(document,window);

// getUrl(), getUrlA(), getCurrentUrl(), getRealUrl() function
function getUrl(a,b,c,d){if(!a)a="";if(!d)d=RELATIVE_URL;if(!b)b=null;if(!c)c="";var e=(d.indexOf("#")!=-1)?d.split("#")[1]:"";var f=(d.indexOf("?")!=-1)?(d.split("#")[0]).split("?")[1]:"";var g={};if(f){g=urlQueryToObject(f)}if(typeof c=='string')c=urlQueryToObject(c);for(key in c)g[key]=c[key];c=objectToUrlQuery(g);if(a){if(b)c='action='+b+'&'+c;c='module='+a+'&'+c}d=d.split("?")[0].split("#")[0];if(d.lastIndexOf("/")!=d.length-1)d+="/";if(c.lastIndexOf("&")==c.length-1)c=c.substr(0,c.length-1);return d+(c?"?"+c:"")+(e?"#"+e:"")}function getUrlA(a,b){return getUrl(null,null,a,b)}function objectToUrlQuery(a){if(!a)return null;else{var b=new Array();for(key in a){var c=a[key];if(!key)continue;else if(key&&c==null)b.push(key);else b.push(key+'='+c)}return b.join("&")}}function urlQueryToObject(a){var b=new Object();var c=a.split("&");for(var i=0;i<c.length;i++){if(c[i].indexOf("=")===-1)b[c[i]]=null;else{var d=c[i].split("=");if(d[0])b[d[0]]=d[1]}}return b}function getCurrentUrl(){return REAL_URL}function getRealUrl(a){if(!a)return REAL_URL;else return RELATIVE_URL+'/modules/'+a}